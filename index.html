<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Evolução Urbana - Espírito Santo do Pinhal (SP)</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
</head>
<body>
  <div id="app-container">
    <aside id="sidebar">
      <h2>Pins</h2>
      <ul id="pins-list"></ul>
      <button id="import-export-btn">IMPORTAR / EXPORTAR PINS</button>
    </aside>
    <main id="main-content">
      <div id="top-bar">
        <div id="slider-wrapper">
          <input type="range" id="year-slider" min="0" max="3" step="0.01" value="3">
          <div id="slider-labels">
            <span>1978</span>
            <span>1984</span>
            <span>2000</span>
            <span>Atualmente</span>
          </div>
        </div>
        <div id="map-layer-switches">
          <label class="switch">
            <input type="checkbox" id="osm-switch">
            <span class="slider-switch"></span>
          </label>
          <span class="switch-label">OpenStreetMap</span>
          <button id="about-btn"><span>SOBRE O PROJETO</span></button>
        </div>
      </div>
      <div id="map"></div>
    </main>
  </div>

  <!-- Modal Importar/Exportar -->
  <div id="import-export-modal" class="modal hidden">
    <div class="modal-content">
      <h3>IMPORTAR / EXPORTAR PINS</h3>
      <table id="pins-table">
        <thead>
          <tr><th><input type="checkbox" id="select-all-pins"></th><th>Nome</th><th>Tipo</th></tr>
        </thead>
        <tbody id="modal-pins-list"></tbody>
      </table>
      <div class="modal-actions">
        <button id="export-selected">Exportar Selecionados</button>
        <label class="import-label" for="import-file">Importar JSON
          <input type="file" id="import-file" accept="application/json">
        </label>
        <button class="modal-close">Fechar</button>
      </div>
    </div>
  </div>

  <!-- Modal Sobre -->
  <div id="about-modal" class="modal hidden">
    <div class="modal-content">
      <h2>Sobre o Projeto</h2>
      <p>
        Este projeto interativo foi desenvolvido com o objetivo de oferecer uma visão comparativa da evolução urbana do município de <strong>Espírito Santo do Pinhal (SP)</strong> ao longo das últimas décadas.
        A proposta é permitir uma análise visual detalhada das transformações espaciais e estruturais da cidade por meio de imagens aéreas e de satélite, sendo as imagens atuais fornecidas pelo <strong>Google Maps</strong>, de modo que a opção "Atualmente" sempre estará atualizada com as imagens mais recente possíveis.
      </p>
      <p>
        Além disso, são utilizadas imagens aéreas e de satélite de diferentes períodos: <strong>1978, 1984, 2000</strong>. A ideia central é destacar como o tecido urbano foi se expandindo,
        como as áreas verdes e zonas rurais foram sendo incorporadas à malha urbana, e de que forma a cidade se adaptou às demandas sociais, econômicas e ambientais ao longo do tempo.
      </p>
      <p>
        <h2>Observações importantes</h2>
        <p>Este site não foi desenvolvido com um sistema de tilesets complexos para as imagens antigas, usados em aplicações mais elaboradas, como aplicativos de Maps, e sim com o uso direto da .png da imagem de satélite. Por isso, a depender do hardware que esteja visualizando, ocorrerão travamentos ao arrastar o slider comparativo, principalmente ao alterar os anos disponíveis.</p><p> A implementação deste tipo de tecnologia é um tanto quanto complexa, e <strong>caso você queira contribuir com este projeto, você pode encontrar o repositório no link do meu GitHub abaixo!</strong></p>
      </p>
      <p>
        <strong>Desenvolvido por:</strong> francesccolucas<br>
        <a href="https://github.com/francesccolucas" target="_blank" rel="noopener noreferrer">
          Repositório no GitHub
        </a>
      </p>
      <p><strong>Este é um projeto open-source totalmente gratuito!</strong></p>
      <button class="modal-close">
        <span class="text">FECHAR</span>
        <span class="icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z" />
          </svg>
        </span>
      </button>
      
    </div>
  </div>
  
  
  <div class="satellite-credit">
    Dados de imagem de satélite atuais fornecidos por <a href="https://www.google.com/intl/pt-br/maps/about/#!/" target="_blank" rel="noopener noreferrer">Google Maps<sup>®</sup></a>
  </div>
  



  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="main.js"></script>


<script>
  // Este script inicializa as melhorias mobile quando o site carregar. ~ Resolvi manter a inicialização aqui 
  // momentaneamente para testes - vou incorporar ao main.js nas próximas versões
  document.addEventListener('DOMContentLoaded', function() {
    if (typeof setupMobileMenu === 'function') {
      // setupMobileMenu();
      improveAboutModal();
    }
  });
</script>
</body>
</html>